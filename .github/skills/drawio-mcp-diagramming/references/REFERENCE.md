# Draw.io Azure2 References

This folder contains on-demand reference artifacts for the `drawio-mcp-diagramming` skill.

## Files

- `azure2_all_icons.txt`
  - Full Azure2 icon inventory from `jgraph/drawio` repository tree (`img/lib/azure2`).
  - Generated by repo-root script: `dump_azure2_icons.py`.
  - Use this as the canonical lookup when checking whether an icon path should exist.

- `azure_common_icons.txt`
  - Curated, practical icon subset used for fast validation and common diagram scenarios.
  - Intended for quick smoke checks before full fallback searches.

- `layout-antipatterns.md`
  - Worked examples of layout problems (stacked edges, repeated labels, observability inside VNet, etc.)
  - Derived from real diagram review sessions.
  - Use this as the first reference when a diagram looks cluttered or has overlapping lines/labels.

## Refresh workflow

From repository root:

```bash
python3 dump_azure2_icons.py \
  --output .github/skills/drawio-mcp-diagramming/references/azure2_all_icons.txt
```

Optional quick validation:

```bash
python3 .github/skills/drawio-mcp-diagramming/scripts/validate_azure2_icons.py \
  .github/skills/drawio-mcp-diagramming/references/azure_common_icons.txt
```

## Notes

- `azure2_all_icons.txt` is a reference artifact and does not need refreshing for every run.
- If render review shows bad/missing icons, use script fallback in `scripts/search_azure2_icons_github.py` and revalidate before regenerating diagrams.